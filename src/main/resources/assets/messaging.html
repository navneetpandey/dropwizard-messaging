<html>
<body>
	<div>
		<input type="text" id="input" />
	</div>
	<div>
		<input type="button" id="connectBtn" value="CONNECT"
			onclick="toogle()" /> 
        <input type="button" id="sendBtn"
			value="SEND" onclick="send()" disabled="true" />
	</div>
	<div id="output">
		<p>Output</p>
	</div>
</body>

<script type="text/javascript">
	var webSocket;
	var output = document.getElementById("output");
	var connectBtn = document.getElementById("connectBtn");
	var sendBtn = document.getElementById("sendBtn");
    var wsUri = "ws://localhost:8080/websocket";

	function toogle() {
		// open the connection if one does not exist
		if (webSocket !== undefined
				&& webSocket.readyState == WebSocket.OPEN) {
			closeSocket();
            return;
		}
		// Create a websocket
		webSocket = new WebSocket(wsUri);

		webSocket.onopen = function(event) {
			updateOutput("Connected!");
            connectBtn.setAttribute('value', 'Disconnect');
			sendBtn.disabled = false;

		};

		webSocket.onmessage = function(event) {
			updateOutput(event.data);
		};

		webSocket.onclose = function(event) {
			updateOutput("Connection Closed");
            connectBtn.setAttribute('value', 'Connect');
			sendBtn.disabled = true;
		};
	}

	function send() {
		var text = document.getElementById("input").value;
		webSocket.send(text);
	}

	function closeSocket() {
      webSocket.close();
      webSocket.onclose();
	}

	function updateTable(text) {
		var row = table.insertRow(0);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        cell1.innerHTML = text.UUID;
        cell2.innerHTML = text; 
	}

    function updateOutput(text) {
      output.innerHTML = text
    }
 
    function refreshView() {
     var table = document.getElementById("tableview");
     for (var i = 0, row; row = table.rows[i]; i++) {
         var date = new Date();
         if (row.cell[0] > date.getTime()) {
            table.deleteRow(i)
            i--;
         }
         //columns would be accessed using the "col" variable assigned in the for loop
       }
     }  
    }
 
    var myVar=setInterval(function () {refreshView()}, 1000);
    toogle();

</script>
</html>